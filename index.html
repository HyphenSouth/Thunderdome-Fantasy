<html lang='en'>
<head>
	<meta charset='utf-8'>
	<title></title>
	<link rel="shortcut icon" href="">
	<!-- <link rel="stylesheet" href="main.css"> -->
	<script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/@svgdotjs/svg.js@3.0/dist/svg.min.js"></script>
	<script src="statusEffects.js"></script>
	<script src="charlist.js"></script>
	<script src="terrain.js"></script>
	<script src="doodad.js"></script>
	<script src="char.js"></script>
	<script src="action.js"></script>
	<script src="item.js"></script>
	<script src="weapon.js"></script>
	<script src="offhand.js"></script>
	<script src="oyashiroSama.js"></script>
	<script src="main.js"></script>
</head>
<body>

	<div id='map' xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs">
		<div id='terrain'></div>
		<div id='doodads'></div>
		<div id='players'></div>
		<div id='danger'></div>
	</div>
	<div id='side'>
		<div id='nav_bar' style='display:none;'>
			<button onClick="auto()">Auto</button>
			<button onClick="turn()">Next Hour</button>
			<button onClick="infoDisplay()">Switch Info</button>
			<span id='day' style='width:120px; display: inline-block;'></span>
			<span style='margin-left:10px; width:130; display: inline-block;' id='alive_cnt'></span>
			<span style='margin-left:10px; width:130; display: inline-block;' id='ded_cnt'></span>
		</div>
		
		<div id='player_prep' style='padding-top: 30px; padding-bottom: -30px; overflow-y:scroll; height:calc(100% - 50px);'>
			<input id='txt_spreadTerrain' value=3 style='width:40px'></input> Water & Mountain Spread<br>
			<button onClick="generateTerrain()">Generate Terrain</button>
			<button onClick="startGame()">Start Game</button><br>
			
			<b>Load Players</b><input text="Load Players" type="file" id="load_file"><br>
			<b>Save Players</b><input id='save_file' style='width:100px'></input><button onClick="savePlayers()" >Save Players</button><br>
			
			<!-- <button id='load_file'>Load Players</button> -->
			<div id='cnt_players'></div>
			<button onClick="resetPlayers()">Clear Players</button>
		</div>
		
		<div id='char_lst' style='display:none; margin-top: 30px;'>
			<div id='messages' style='display:none;'>
				<table id='eventMsg'>
					<thead>
						<tr><th>Time</th><th></th></tr>
					</thead>
					<tbody>
					</tbody>
				</table>
				<table id='deathMsg'>
					<thead>
						<tr><th>Time</th><th></th></tr>
					</thead>
					<tbody>
					</tbody>
				</table>
			</div>
			<div id='table' style='display:none; margin-bottom: 250px;'>
			</div>
			<div id='char_info'>
				<button onClick="deselect_show_info()"></button>
				<div id = 'char_info_container' style='margin:5px'>
				</div>				
			</div>			
			<div id='extra_info'>
				<button onClick="deselect_extra_info()"></button>
				<div id = 'extra_info_container' style='margin:5px'>
				</div>				
			</div>
		</div>
		
	</div>
	
</body>
<style>
html,body{
	font-family:helvetica;
	width:100%;
	height:100%;
	margin:0;
	background:#222;
}
#side{
	display:inline-block;
	vertical-align:top;
	height:100%;
	color:white;
	overflow-y: hidden; 
}
#char_lst{
	display:inline-block;
	vertical-align:top;
	height:100%;
	overflow-y:scroll;
	padding-bottom:100px;
}
#char_info{
	position: fixed;
	display:none;
	bottom: 20px; 
	right: 50px;
	height:195px;
	width:600px;
	z-index:5;
	/*border-radius: 20px;*/
	background-color:#474747;
	box-shadow: inset 0 0 4px red;
}
#char_info button{
	position: absolute; 
	right:5px;
	top:5px;
	width:20px;
	height:20px;
	background-color:#ffffff00;
	background-image: url('icons/close.png');
	background-size: 20px 20px;
	border-style: none;
}
#char_info_img{
	width:135px;
	height:180px;
	object-fit:cover;
	border: 2px solid black;
}
#char_info_container .info{
	display:inline-block;
	width:420px;
	font-size:16px;
	vertical-align:top;
	margin-left:5px;
}
#char_stats {
	width:240px; 
	height:170px;
	margin-top:40px;;
	margin-right:5px;
	position:absolute; 
	top:0; 
	right:0; 
	font-size:12px
}

#char_stats .item_img{
	width:15px;
	height:15px;
}

#extra_info{
	position: fixed;
	display:none;
	bottom: 220px; 
	right: 50px;
	width:200px;
	z-index:5;
	/*border-radius: 20px;*/
	background-color:#474747;
	box-shadow: inset 0 0 4px red;
}
#extra_info button{
	position: absolute; 
	right:5px;
	top:5px;
	width:15px;
	height:15px;
	background-color:#ffffff00;
	background-image: url('icons/close.png');
	background-size: 15px 15px;
	border-style: none;
}
#extra_info_container .info{
	display:inline-block;
	width:180;
	font-size:14px;
	vertical-align:top;
	margin-left:5px;
}
#extra_info_container .info .effect_img{
	width:15px;
	height:15px;
}
#extra_info_container .desc{
	font-size:12px;
	margin-top: 10px;
	display: block;
}

#nav_bar{
	position: fixed; 
	top: 0; 
	width:100%;
	background:#222;	
	z-index:5;
}

#table .container{
	display:inline-block;
	vertical-align:top;
	width:235px;
	position:relative;
	height:60px;
	margin-bottom:5px;
	margin-right:5px;
}

#table .container.highlight{
	background-color:#474747;
	box-shadow: inset 0 0 1px yellow;
}
#table .container.selected{
	background-color:#474747;
	box-shadow: inset 0 0 2px red;
}

#table .container table, #table .container img{
	display:inline-block;
	vertical-align:top;
}

#table div.status img{
	width:20px;
	height:20px;
}

#table span.weapon .item_img{
	width:20px;
	height:20px;
}
#table div.effects .effect_img{
	width:10px;
	height:10px;
}

#table .container img{
	width:50px;
	height:60px;
	object-fit:cover;
	z-index:1;
}
#messages table{
	color:white;
	font-size:20px;
	display:inline-block;
	width:49%;
	vertical-align:top;
}
#messages img{
	width:75px;
	height:75px;
	object-fit:cover;
}
#map{
	display:inline-block;
	vertical-align:top;
	height:calc(100% - 40px)!important;
	margin:20px;
	background:green;
	position:relative;
	border-radius: 50%;

}
#danger {
	display:inline-block;
	vertical-align:top;
	position:relative;	
	border-radius: 50%;
	border: 5px solid red;
	visibility: hidden;
}	
.char{
	width:24px;
	height:24px;
	border:solid 1px black;
	position:absolute;
	border-radius:12px;
	display:flex;
	justify-content:center;
	object-fit:cover;
	background-size:cover;
	transition: transform 1s;
	margin-top:-10px;
	z-index:3;
	pointer-events: none;
}
.char.highlight{
	border-color:yellow;
	color:yellow;
	font-weight:bold;
	z-index:10;
}
.doodad{
	z-index:4;
	position:absolute;
	width:24px;
	height:24px;
	text-align:center;
}
.terrain{
	z-index:1;
	position:absolute;
	width:25px;
	height:25px;
	text-align:center;
}
.dead{
	opacity:0.25;
}
.char:not(.dead){
	text-shadow:-1px 1px rgba(255,255,255,0.5), 1px 1px rgba(255,255,255,0.5), 1px -1px rgba(255,255,255,0.5), -1px -1px rgba(255,255,255,0.5);
}
.char.dead{
	opacity:0.1;
}
.char.dead.highlight{
	border-color:yellow;
	color:yellow;
	font-weight:bold;
	opacity:0.75;
	z-index:10;
}
.fighting{
	border-color:red;
}
.healthBar,.energyBar{
	width:100%;
	height:5px;
	left:0;
	position:absolute;
	opacity:0.8;
}
.healthBar{
	background:red;
	bottom:5px;
	border: 1px solid black;
}
.energyBar{
	background:green;
	bottom:0;
	border: 1px solid black;
}
.kills{
	left:0;
	top:0;
	position:absolute;
	color:black;
	text-shadow:-1px 1px white, 1px 1px white, 1px -1px white, -1px -1px white;
}
.charName{
	margin-top:-15px;
	display:flex;
	justify-content:center;
	min-width:200px;
}
.charEff{
	left:-20;
	position:absolute;
	justify-content:center;
}
.sexSword{
	color:red;
	font-weight:bold;
}
.sleep::before{
	content:"ðŸ˜´";
	vertical-align:top;
	font-size:12px;
	text-shadow:none;
}
.trapped{
	color:brown;
	font-style:italic;
}
.info{
	display:inline-block;
	width:150px;
	font-size:12px;
}

.item_img{
	width:20px;
	height:20px;
}
.effect_img{
	width:10px;
	height:10px;
}

</style>

